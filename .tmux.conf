# --- TMUX ---
# TERMINAL MULTIPLEXER

# Use with Byobu

# Note: S-F12 disable F-keys

# bind -n binds to use without the prefix key

# --- XUMT ---

# --- Basics ---

# c - new window
# w - window list
# , - rename window
# n/p - next/previous window
# t - show time
# x - kill pane

# --- ScisaB ---

# Can be set as ^b as well
unbind C-b
set -g prefix `
bind ` send-prefix

# Conflicts with WeeChat
unbind -n M-Up
unbind -n M-Down

# UTF support
# No longer necessary
# setw -g utf8 on
setw -g mode-keys vi
setw -g monitor-activity on
# Automatically set window titles
setw -g automatic-rename on
set  -g set-titles on
set  -g status-keys vi
set  -g default-terminal "screen-256color"
# Start window numbering at 1
set  -g base-index 1
# Start pane numbering
set  -g pane-base-index 1
set  -g renumber-windows on
set  -g repeat-time 500
set  -g status-position top
set  -g status-justify left
set  -g display-panes-time 5000
set  -g pane-active-border-fg white
set  -g pane-active-border-bg blue
set  -g default-shell /usr/bin/fish
set  -g default-command /usr/bin/fish
set  -g history-limit 10000
# No delay for escape key press
set -sg escape-time 0

# Statusline colors
# set-option -g status-bg black 
# set-option -g status-fg white

set-option -g pane-active-border-fg red

# ---

# Split panes

bind | split-window -h
bind \ split-window -h
bind - split-window -v
bind _ split-window -v



# Switch between panes

bind -r h select-pane -L
bind -r j select-pane -D
bind -r k select-pane -U
bind -r l select-pane -R

bind -r Tab select-pane -t :.+

# Resize panes

bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# Swap panes

bind -r C-k swapp -U
bind -r C-j swapp -U
bind -r C-h swapp -D
bind -r C-l swapp -D

# Switch between windows

bind ] next-window
bind [ previous-window

# Semicolon to enter command mode
unbind \;
bind \; command-prompt

bind -n F1 display-panes
bind S set-window-option synchronize-panes

# Reload config
unbind r
bind r source-file ~/.tmux.conf \; display "Reloaded!"

# right side status bar
# strftime()
# weekday, month, day, hour, minute, am/pm sign
# set -g status-right "%a, %b %d %l:%M %p"

#setw clock-mode-colour white
#setw clock-mode-style 12

# visual (space to start selection, enter to end, v for line-wise)
# prefix [ copy
# prefix ] paste
bind -r v copy-mode
bind -t vi-copy 'v' begin-selection
bind -t vi-copy 'Y' copy-selection
# copy to clipboard
# bind -t vi-copy y copy-pipe 'xclip -in -selection clipboard'
# copy to primary selection (instead of local tmux register)
bind -t vi-copy 'y' copy-pipe 'xclip -in -selection primary'

# Mouse works as expected
# setw -g mode-mouse on
# setw -g  mouse-select-window on
# set -g  mouse-select-pane on
# set -g  mouse-resize-pane on

# ---
# ---
# --- PLUGIN MANAGER
# ---
# ---

# List of plugins
# Prefix + I to install in Tmux
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
# set -g @plugin 'powerline/powerline'
set -g @plugin 'erikw/tmux-powerline'
# Prefix + Tab (toggle), Prefix + Backspace (toogle and switch)
set -g @plugin 'tmux-plugins/tmux-sidebar'
# set -g @plugin 'tmux-plugins/tmux-battery'


# Other examples:
# set -g @plugin 'github_username/plugin_name'
# set -g @plugin 'git@github.com/user/plugin'
# set -g @plugin 'git@bitbucket.com/user/plugin'

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run '~/.tmux/plugins/tpm/tpm'

# ---
# --- PLUGINS
# ---

# Solarized colorscheme
set -g @plugin 'seebi/tmux-colors-solarized'
set -g @colors-solarized 'dark'


set-option -g status-left "#(~/.tmux/plugins/tmux-powerline/powerline.sh left)"
set-option -g status-right "#(~/.tmux/plugins/tmux-powerline/powerline.sh right)"
